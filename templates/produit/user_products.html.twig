{% extends 'base.html.twig' %}

{% block body %}
<!-- Search area -->
<div class="search-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <span class="close-btn"><i class="fas fa-window-close"></i></span>
                <div class="search-bar">
                    <div class="search-bar-tablecell">
                        <h3>Search For:</h3>
                        <input type="text" placeholder="Keywords">
                        <button type="submit">Search <i class="fas fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End search area -->

<!-- Breadcrumb section -->
<div class="breadcrumb-section breadcrumb-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center">
                <div class="breadcrumb-text">
                    <p>Manage your creations and keep track of your listings!</p>
                    <h1>Crafted by You, Loved by Many! üõçÔ∏è</h1>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End breadcrumb section -->

<div class="container mt-4 d-flex justify-content-center">
    <div style="max-width: 1000px; width: 100%;">
        <h2 class="text-center my-4">Your Posted Products</h2>

        <table class="table table-striped table-bordered text-center" 
               style="background-color:rgb(236, 236, 234); border-radius: 10px; box-shadow: 0px 4px 6px rgba(0,0,0,0.1);">
            <thead class="thead-dark">
                <tr>
                 <th>Product ID</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Price ($)</th>
                    <th>Stock</th>
                    <th>Category</th>
                    <th>Image</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                    <tr>
                       <td>{{ product.id }}</td>
                        <td>{{ product.name }}</td>
                        <td>{{ product.description }}</td>
                        <td>{{ product.price }}</td>
                        <td>{{ product.stock }}</td>
                        <td>{{ product.category }}</td>     
                        <td>{{ product.image }}</td>
                        <td>
    <a href="{{ path('update_product', {id: product.id}) }}" class="btn btn-warning btn-sm">
        <i class="fas fa-edit"></i>
    </a>
</td>
                        <td>
    <a href="{{ path('delete_product', {id: product.id}) }}" 
       class="btn btn-sm" 
       style="color: black; font-size: 20px; text-decoration: none;" 
       onclick="return confirm('Are you sure you want to delete this product?');">
        <i class="fas fa-trash-alt"></i>
    </a>
</td>

                    </tr>
                {% else %}
                    <tr>
                        <td colspan="8" class="text-center">No products found.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
